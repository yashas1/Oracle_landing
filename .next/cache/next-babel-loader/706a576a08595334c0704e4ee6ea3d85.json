{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\projectNext\\\\src\\\\components\\\\core\\\\Header\\\\U28\\\\V1\\\\Profile.js\";\nimport React, { useState, useEffect, useRef } from 'react';\n\nconst Profile = ({\n  isProfActive,\n  updateProfileState\n}) => {\n  /* Declarations */\n  const profileRef = useRef();\n  let location = '';\n\n  if (false) {\n    location = window.location.href;\n  }\n  /* States */\n\n\n  const {\n    0: userInfo,\n    1: setuserInfo\n  } = useState({});\n  const {\n    0: isRTL,\n    1: setRTLFix\n  } = useState(false);\n  const {\n    0: ssoURL,\n    1: setssoURL\n  } = useState();\n  /* Hooks */\n\n  useEffect(() => {\n    const sso = `https://www.oracle.com/webapps/redirect/signon?nexturl=${window.location.href}`;\n    setssoURL(sso);\n    handleResize(); // setuserInfo(getUserInfo());\n    // add when mounted\n\n    document.addEventListener('mousedown', handleProfileClickOutside);\n    window.addEventListener('resize', handleResize); // return function to be called when unmounted\n\n    return () => {//   document.removeEventListener('mousedown', handleProfileClickOutside);\n      //   window.removeEventListener('resize', handleResize);\n    };\n  }, []); // Close profile popup when click outside\n\n  const handleProfileClickOutside = event => {\n    if (profileRef.current.contains(event.target)) {\n      // inside click\n      return;\n    } // outside click\n\n\n    closePopup();\n  };\n\n  const closePopup = () => {\n    updateProfileState(false);\n  }; // Back Click Handler In Mobile View\n\n\n  const onBackClick = event => {\n    event.preventDefault();\n    closePopup();\n  }; // Hide/Show Profile links\n\n\n  const toggleProfilePopup = event => {\n    event.preventDefault();\n    const newState = !isProfActive;\n    updateProfileState(newState);\n  };\n\n  const handleResize = () => {\n    const u28profilebtn = profileRef.current.querySelector('.u28prof');\n    const u28profiledropdown = profileRef.current.querySelector('.u28-profilew1');\n    let u28profiledropdownWidth = u28profiledropdown.clientWidth;\n\n    if (u28profiledropdown.offsetParent === null) {\n      u28profiledropdownWidth = parseFloat(window.getComputedStyle(u28profiledropdown).getPropertyValue('width'));\n    }\n\n    const btnwidth = u28profilebtn.clientWidth;\n    const u28profilebtnOffset = u28profilebtn.getBoundingClientRect();\n    const profileright = window.innerWidth - (u28profilebtnOffset.left + btnwidth); // Fix for RTL\n\n    if (profileright + btnwidth <= u28profiledropdownWidth - 20) {\n      setRTLFix(true);\n    }\n\n    if (profileright + btnwidth > u28profiledropdownWidth - 20) {\n      setRTLFix(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: ['u28-profile', 'loggedin'].join(' '),\n    tabIndex: \"-1\",\n    ref: profileRef,\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#\",\n      className: \"u28prof\",\n      tabIndex: \"0\",\n      \"aria-controls\": \"u28-profilew1\",\n      \"aria-label\": \"Sign In\",\n      onClick: toggleProfilePopup,\n      \"aria-haspopup\": \"true\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"acttxt\",\n        tabIndex: \"-1\",\n        children: \"View Accounts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        tabIndex: \"-1\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: ['u28-profilew1', 'u28fadeIn', 'right'].join(' '),\n      tabIndex: isProfActive ? '0' : '-1',\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"u28actbck u28back\",\n        onClick: onBackClick,\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"u28acttitle\",\n        children: \"Oracle Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"u28l-out\",\n        children: [userInfo && userInfo.guid ? null : /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: ssoURL,\n            \"data-lbl\": \"profile:sign-in-account\",\n            className: \"u28btn1\",\n            tabIndex: isProfActive ? '0' : '-1',\n            children: \"Sign-In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://profile.oracle.com/myprofile/account/create-account.jspx\",\n            \"data-lbl\": \"profile:create-account\",\n            className: \"u28btn2\",\n            tabIndex: isProfActive ? '0' : '-1',\n            children: \"Create an Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 4\n  }, this);\n};\n\nexport default Profile;","map":{"version":3,"sources":["E:/projectNext/src/components/core/Header/U28/V1/Profile.js"],"names":["React","useState","useEffect","useRef","Profile","isProfActive","updateProfileState","profileRef","location","window","href","userInfo","setuserInfo","isRTL","setRTLFix","ssoURL","setssoURL","sso","handleResize","document","addEventListener","handleProfileClickOutside","event","current","contains","target","closePopup","onBackClick","preventDefault","toggleProfilePopup","newState","u28profilebtn","querySelector","u28profiledropdown","u28profiledropdownWidth","clientWidth","offsetParent","parseFloat","getComputedStyle","getPropertyValue","btnwidth","u28profilebtnOffset","getBoundingClientRect","profileright","innerWidth","left","join","guid"],"mappings":"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","sourcesContent":["import React , { useState, useEffect, useRef } from 'react';\r\n\r\n\r\nconst Profile=({ isProfActive, updateProfileState })=>{\r\n\r\n     \r\n   /* Declarations */\r\n   const profileRef = useRef();\r\n   let location = '';\r\n   if (process.browser) {\r\n       \r\n     location = window.location.href;\r\n   }\r\n     /* States */\r\n  const [userInfo, setuserInfo] = useState({});\r\n  const [isRTL, setRTLFix] = useState(false);\r\n  const [ssoURL, setssoURL] = useState();\r\n   /* Hooks */\r\n   useEffect(() => {\r\n    const sso = `https://www.oracle.com/webapps/redirect/signon?nexturl=${window.location.href}`;\r\n    setssoURL(sso);\r\n    handleResize();\r\n    // setuserInfo(getUserInfo());\r\n    // add when mounted\r\n    document.addEventListener('mousedown', handleProfileClickOutside);\r\n    window.addEventListener('resize', handleResize);\r\n    // return function to be called when unmounted\r\n    return () => {\r\n    //   document.removeEventListener('mousedown', handleProfileClickOutside);\r\n    //   window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n // Close profile popup when click outside\r\n const handleProfileClickOutside = (event) => {\r\n    if (profileRef.current.contains(event.target)) {\r\n      // inside click\r\n      return;\r\n    }\r\n    // outside click\r\n    closePopup();\r\n  };\r\n  const closePopup = () => {\r\n    updateProfileState(false);\r\n  };\r\n   // Back Click Handler In Mobile View\r\n   const onBackClick = (event) => {\r\n    event.preventDefault();\r\n    closePopup();\r\n  };\r\n   // Hide/Show Profile links\r\n   const toggleProfilePopup = (event) => {\r\n    event.preventDefault();\r\n    const newState = !isProfActive;\r\n    updateProfileState(newState);\r\n  };\r\n  const handleResize = () => {\r\n     \r\n     const u28profilebtn = profileRef.current.querySelector('.u28prof');\r\n  \r\n    const u28profiledropdown = profileRef.current.querySelector('.u28-profilew1');\r\n    let u28profiledropdownWidth = u28profiledropdown.clientWidth;\r\n    if (u28profiledropdown.offsetParent === null) {\r\n      u28profiledropdownWidth = parseFloat(window.getComputedStyle(u28profiledropdown).getPropertyValue('width'));\r\n    }\r\n    const btnwidth = u28profilebtn.clientWidth;\r\n    const u28profilebtnOffset = u28profilebtn.getBoundingClientRect();\r\n    const profileright = window.innerWidth - (u28profilebtnOffset.left + btnwidth);\r\n    // Fix for RTL\r\n    if (profileright + btnwidth <= u28profiledropdownWidth - 20) {\r\n      setRTLFix(true);\r\n    }\r\n    if (profileright + btnwidth > u28profiledropdownWidth - 20) {\r\n      setRTLFix(false);\r\n    }\r\n  };\r\n      return (\r\n   \r\n   <div\r\n      className={['u28-profile', 'loggedin' ].join(' ')}\r\n      tabIndex=\"-1\"\r\n      ref={profileRef}\r\n    >\r\n       <a\r\n        href=\"#\"\r\n        className=\"u28prof\"\r\n        tabIndex=\"0\"\r\n        aria-controls=\"u28-profilew1\"\r\n        aria-label=\"Sign In\"\r\n        onClick={toggleProfilePopup}\r\n        aria-haspopup=\"true\"\r\n      >\r\n      <div className=\"acttxt\" tabIndex=\"-1\">\r\n          View Accounts\r\n        </div>\r\n        <span tabIndex=\"-1\">Sign In</span>    \r\n      </a>\r\n      <div\r\n        className={['u28-profilew1', 'u28fadeIn' ,'right'].join(' ')}\r\n        tabIndex={isProfActive ? '0' : '-1'}\r\n      >\r\n     <span className=\"u28actbck u28back\" onClick={onBackClick}>\r\n          Back\r\n        </span>\r\n        <span className=\"u28acttitle\">Oracle Account</span>\r\n        <ul className=\"u28l-out\">\r\n          {userInfo && userInfo.guid ? null : (\r\n            <li>\r\n              <a\r\n                href={ssoURL}\r\n                data-lbl=\"profile:sign-in-account\"\r\n                className=\"u28btn1\"\r\n                tabIndex={isProfActive ? '0' : '-1'}\r\n              >\r\n                Sign-In\r\n              </a>\r\n            </li>\r\n          )}\r\n          <li>\r\n            <a\r\n              href=\"https://profile.oracle.com/myprofile/account/create-account.jspx\"\r\n              data-lbl=\"profile:create-account\"\r\n              className=\"u28btn2\"\r\n              tabIndex={isProfActive ? '0' : '-1'}\r\n            >\r\n              Create an Account\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n</div>\r\n)\r\n\r\n}\r\n\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}